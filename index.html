<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Gender and Economic Development Analysis</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            min-height: 100vh;
        }

        .container {
            max-width: 1400px;
            margin: 0 auto;
            background: white;
            min-height: 100vh;
            box-shadow: 0 20px 40px rgba(0,0,0,0.1);
        }

        .header {
            background: linear-gradient(135deg, #4facfe 0%, #00f2fe 100%);
            color: white;
            padding: 40px;
            text-align: center;
        }

        .header h1 {
            margin: 0;
            font-size: 2.5em;
            font-weight: 300;
        }

        .header p {
            margin: 10px 0 0 0;
            font-size: 1.2em;
            opacity: 0.9;
        }

        /* Tabs */
        .tabs {
            display: flex;
            background: #f8f9fa;
            border-bottom: 2px solid #dee2e6;
            padding: 0 40px;
        }

        .tab {
            padding: 15px 30px;
            cursor: pointer;
            border-bottom: 3px solid transparent;
            transition: all 0.3s;
            font-weight: 500;
            color: #666;
        }

        .tab:hover {
            background: rgba(79, 172, 254, 0.1);
            color: #4facfe;
        }

        .tab.active {
            color: #4facfe;
            border-bottom-color: #4facfe;
            background: white;
        }

        /* Tab Content */
        .tab-content {
            display: none;
            padding: 40px;
            animation: fadeIn 0.3s;
        }

        .tab-content.active {
            display: block;
        }

        @keyframes fadeIn {
            from { opacity: 0; transform: translateY(10px); }
            to { opacity: 1; transform: translateY(0); }
        }

        /* Analysis Tab Styles */
        .section {
            margin-bottom: 40px;
        }

        .section h2 {
            color: #4facfe;
            border-bottom: 2px solid #4facfe;
            padding-bottom: 10px;
            margin-bottom: 20px;
        }

        .grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
            gap: 20px;
            margin-bottom: 30px;
        }

        .card {
            background: #f8f9fa;
            border-radius: 10px;
            padding: 25px;
            box-shadow: 0 5px 15px rgba(0,0,0,0.08);
            transition: transform 0.3s ease, box-shadow 0.3s ease;
        }

        .card:hover {
            transform: translateY(-5px);
            box-shadow: 0 10px 25px rgba(0,0,0,0.15);
        }

        .card h3 {
            color: #333;
            margin-top: 0;
            margin-bottom: 15px;
            font-size: 1.3em;
        }

        .card p {
            color: #666;
            line-height: 1.6;
            margin-bottom: 15px;
        }

        .btn {
            display: inline-block;
            background: linear-gradient(135deg, #4facfe 0%, #00f2fe 100%);
            color: white;
            padding: 12px 25px;
            text-decoration: none;
            border-radius: 25px;
            font-weight: 500;
            transition: all 0.3s ease;
            border: none;
            cursor: pointer;
        }

        .btn:hover {
            transform: translateY(-2px);
            box-shadow: 0 5px 15px rgba(79, 172, 254, 0.4);
        }

        .stats {
            background: #e3f2fd;
            border-radius: 10px;
            padding: 20px;
            margin-bottom: 30px;
        }

        .stats-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
            gap: 20px;
        }

        .stat-item {
            text-align: center;
        }

        .stat-number {
            font-size: 2em;
            font-weight: bold;
            color: #1976d2;
        }

        .stat-label {
            color: #666;
            font-size: 0.9em;
        }

        .badge {
            display: inline-block;
            background: #4caf50;
            color: white;
            padding: 4px 8px;
            border-radius: 12px;
            font-size: 0.8em;
            margin-left: 10px;
        }

        .badge.warning {
            background: #ff9800;
        }

        /* Policy Projection Styles */
        .policy-content {
            display: grid;
            grid-template-columns: 1fr 400px;
            gap: 30px;
        }

        .controls-panel {
            background: #f8f9fa;
            border-radius: 10px;
            padding: 25px;
        }

        .control-group {
            margin-bottom: 25px;
        }

        .control-label {
            display: flex;
            align-items: center;
            gap: 10px;
            margin-bottom: 8px;
            font-weight: 600;
            color: #333;
        }

        .control-icon {
            font-size: 1.3em;
        }

        .slider-container {
            display: flex;
            align-items: center;
            gap: 15px;
        }

        .slider {
            flex: 1;
            -webkit-appearance: none;
            height: 8px;
            border-radius: 5px;
            background: #ddd;
            outline: none;
        }

        .slider::-webkit-slider-thumb {
            -webkit-appearance: none;
            width: 20px;
            height: 20px;
            border-radius: 50%;
            background: #4facfe;
            cursor: pointer;
        }

        .slider::-moz-range-thumb {
            width: 20px;
            height: 20px;
            border-radius: 50%;
            background: #4facfe;
            cursor: pointer;
        }

        .slider-value {
            min-width: 60px;
            text-align: right;
            font-weight: bold;
            color: #4facfe;
        }

        .results-panel {
            background: #f8f9fa;
            border-radius: 10px;
            padding: 25px;
        }

        .result-card {
            background: white;
            padding: 20px;
            border-radius: 8px;
            margin-bottom: 20px;
            box-shadow: 0 2px 10px rgba(0,0,0,0.05);
        }

        .result-label {
            font-size: 0.9em;
            color: #666;
            margin-bottom: 5px;
        }

        .result-value {
            font-size: 2em;
            font-weight: bold;
            color: #1976d2;
        }

        .impact-indicator {
            display: inline-block;
            padding: 5px 15px;
            border-radius: 20px;
            font-size: 0.85em;
            font-weight: 600;
            margin-top: 10px;
        }

        .impact-positive {
            background: #d4edda;
            color: #155724;
        }

        .impact-neutral {
            background: #fff3cd;
            color: #856404;
        }

        .impact-negative {
            background: #f8d7da;
            color: #721c24;
        }

        .country-selector {
            margin-bottom: 30px;
        }

        .country-selector select {
            width: 100%;
            padding: 12px 15px;
            border: 2px solid #dee2e6;
            border-radius: 8px;
            font-size: 1em;
            background: white;
            cursor: pointer;
            transition: border-color 0.3s;
        }

        .country-selector select:focus {
            outline: none;
            border-color: #4facfe;
        }

        .footer {
            background: #333;
            color: white;
            text-align: center;
            padding: 20px;
        }
    </style>
</head>
<body>
    <div class="container">
        <div class="header">
            <h1>üåç Gender and Economic Development Analysis</h1>
            <p>Comprehensive analysis and policy projection models for development</p>
        </div>

        <div class="tabs">
            <div class="tab active" onclick="switchTab(0)">
                üìä Gender and Economic Development Analysis
            </div>
            <div class="tab" onclick="switchTab(1)">
                üéØ Gender and Development Policy Projection Models
            </div>
        </div>

        <!-- Tab 1: Analysis Results -->
        <div class="tab-content active" id="tab-0">
            <div class="section">
                <h2>üìä Analysis Summary</h2>
                <div class="stats">
                    <div class="stats-grid">
                        <div class="stat-item">
                            <div class="stat-number">63</div>
                            <div class="stat-label">Countries Analyzed</div>
                        </div>
                        <div class="stat-item">
                            <div class="stat-number">129</div>
                            <div class="stat-label">Variables</div>
                        </div>
                        <div class="stat-item">
                            <div class="stat-number">1</div>
                            <div class="stat-label">Models with R¬≤ ‚â• 0.75</div>
                        </div>
                        <div class="stat-item">
                            <div class="stat-number">2</div>
                            <div class="stat-label">Optimal Clusters</div>
                        </div>
                    </div>
                </div>
            </div>

            <div class="section">
                <h2>üìà Interactive Dashboards</h2>
                <div class="grid">
                    <div class="card">
                        <h3>üîç Descriptive Analysis</h3>
                        <p>Explore basic statistics, distributions, and data quality metrics for all variables.</p>
                        <a href="resultados/dashboards/descriptive_dashboard.html" class="btn" target="_blank">View Dashboard</a>
                    </div>

                    <div class="card">
                        <h3>üîó Correlation Matrix</h3>
                        <p>Interactive heatmap showing correlations between top variables and GDP growth.</p>
                        <a href="resultados/dashboards/correlation_matrix.html" class="btn" target="_blank">View Matrix</a>
                        <span class="badge">NEW</span>
                    </div>

                    <div class="card">
                        <h3>üìä Top Correlations</h3>
                        <p>Bar chart displaying the strongest correlations with economic development.</p>
                        <a href="resultados/dashboards/top_correlations.html" class="btn" target="_blank">View Correlations</a>
                    </div>

                    <div class="card">
                        <h3>üìà Correlation Comparison</h3>
                        <p>Compare Pearson vs Spearman correlation coefficients.</p>
                        <a href="resultados/dashboards/pearson_vs_spearman.html" class="btn" target="_blank">View Comparison</a>
                    </div>

                    <div class="card">
                        <h3>üéØ Country Clusters</h3>
                        <p>Visualize country groupings based on gender and development indicators.</p>
                        <a href="resultados/dashboards/clusters_pca.html" class="btn" target="_blank">View Clusters</a>
                    </div>

                    <div class="card">
                        <h3>üìâ Cluster Selection</h3>
                        <p>Analysis of optimal number of clusters using silhouette method.</p>
                        <a href="resultados/dashboards/elbow_method.html" class="btn" target="_blank">View Analysis</a>
                    </div>
                </div>
            </div>

            <div class="section">
                <h2>ü§ñ Machine Learning Results</h2>
                <div class="grid">
                    <div class="card">
                        <h3>‚ö° Enhanced ML Comparison</h3>
                        <p>Compare performance of advanced ML models with parameter optimization.</p>
                        <a href="resultados/dashboards/enhanced_ml_comparison.html" class="btn" target="_blank">View Comparison</a>
                        <span class="badge">ENHANCED</span>
                    </div>

                    <div class="card">
                        <h3>üéØ Variable Importance</h3>
                        <p>Identify which variables are most important for predicting economic growth.</p>
                        <a href="resultados/dashboards/variable_importance.html" class="btn" target="_blank">View Importance</a>
                    </div>

                    <div class="card">
                        <h3>üìä Predictions vs Reality</h3>
                        <p>Evaluate model accuracy by comparing predictions with actual values.</p>
                        <a href="resultados/dashboards/predictions_vs_real.html" class="btn" target="_blank">View Predictions</a>
                    </div>

                    <div class="card">
                        <h3>üìã Model Performance</h3>
                        <div style="margin-top: 15px;">
                            <p><strong>Random Forest:</strong> R¬≤ = 0.750 <span class="badge">‚úì</span></p>
                            <p><strong>Gradient Boosting:</strong> R¬≤ = 0.737 <span class="badge warning">‚ö†</span></p>
                            <p><strong>Neural Network:</strong> R¬≤ = 0.404 <span class="badge warning">‚ö†</span></p>
                            <p><strong>Support Vector Machine:</strong> R¬≤ = 0.650 <span class="badge warning">‚ö†</span></p>
                            <p><strong>XGBoost:</strong> R¬≤ = 0.684 <span class="badge warning">‚ö†</span></p>
                        </div>
                    </div>
                </div>
            </div>

            <div class="section">
                <h2>üéØ Final Optimized Models</h2>
                <div class="grid">
                    <div class="card">
                        <h3>üèÜ Complete Model Dashboard</h3>
                        <p>Comprehensive dashboard showing all optimized models with smart parameter tuning results.</p>
                        <a href="resultados/modelos_finales/final_models_dashboard.html" class="btn" target="_blank">View Dashboard</a>
                        <span class="badge">OPTIMIZED</span>
                    </div>

                    <div class="card">
                        <h3>üìä Model Performance</h3>
                        <p>Interactive comparison of final optimized model performance and target achievement.</p>
                        <a href="resultados/modelos_finales/final_model_comparison.html" class="btn" target="_blank">View Performance</a>
                    </div>

                    <div class="card">
                        <h3>üîß Optimization Journey</h3>
                        <p>Track how each parameter was optimized and which changes improved performance.</p>
                        <a href="resultados/modelos_finales/optimization_journey.html" class="btn" target="_blank">View Journey</a>
                    </div>

                    <div class="card">
                        <h3>üéØ Predictions Analysis</h3>
                        <p>Scatter plot analysis of model predictions vs actual values for all optimized models.</p>
                        <a href="resultados/modelos_finales/predictions_vs_reality.html" class="btn" target="_blank">View Analysis</a>
                    </div>
                </div>
            </div>

            <div class="section">
                <h2>üìÑ Data Reports</h2>
                <div class="grid">
                    <div class="card">
                        <h3>üìä Descriptive Statistics</h3>
                        <p>Complete statistical summary of all variables (CSV format).</p>
                        <a href="resultados/reportes/descriptive_statistics.csv" class="btn" target="_blank">Download CSV</a>
                    </div>

                    <div class="card">
                        <h3>üîó Correlation Table</h3>
                        <p>Complete correlation analysis results for all variables.</p>
                        <a href="resultados/reportes/correlation_table.csv" class="btn" target="_blank">Download CSV</a>
                    </div>

                    <div class="card">
                        <h3>üéØ Cluster Profiles</h3>
                        <p>Detailed profiles and characteristics of each country cluster.</p>
                        <a href="resultados/reportes/cluster_profiles.csv" class="btn" target="_blank">Download CSV</a>
                    </div>

                    <div class="card">
                        <h3>üìã Executive Summary</h3>
                        <p>Comprehensive summary of all analysis results and findings.</p>
                        <a href="resultados/reportes/executive_summary.txt" class="btn" target="_blank">View Summary</a>
                    </div>
                </div>
            </div>

            <div class="section">
                <h2>üîç Key Findings</h2>
                <div class="stats">
                    <p><strong>üèÜ Strongest Correlation:</strong> E_School enrollment, primary, female (% gross) (r = -0.489)</p>
                    <p><strong>ü§ñ Best ML Model:</strong> Random Forest achieved R¬≤ = 0.750</p>
                    <p><strong>üéØ Country Grouping:</strong> 2 distinct clusters identified based on development patterns</p>
                    <p><strong>üìä Dataset Coverage:</strong> Analysis covers 63 countries with comprehensive gender and development metrics</p>
                </div>
            </div>
        </div>

        <!-- Tab 2: Policy Projection Models -->
        <div class="tab-content" id="tab-1">
            <div class="section">
                <h2>üéØ Gender and Development Policy Projection Models</h2>
                <p style="color: #666; margin-bottom: 30px;">
                    Adjust the significant variables from our model to see their projected impact on GDP growth.
                    Select a country to start with its current values, or use custom settings.
                </p>

                <div class="country-selector">
                    <label for="country-select" style="font-weight: 600; margin-bottom: 10px; display: block;">Select Country:</label>
                    <select id="country-select" onchange="loadCountryData()">
                        <option value="">-- Custom Values --</option>
                        <option value="Afghanistan">Afghanistan</option>
                        <option value="Angola">Angola</option>
                        <option value="Bangladesh">Bangladesh</option>
                        <option value="Benin">Benin</option>
                        <option value="Bhutan">Bhutan</option>
                        <option value="Bolivia">Bolivia</option>
                        <option value="Cambodia">Cambodia</option>
                        <option value="Egypt">Egypt, Arab Rep.</option>
                        <option value="Ethiopia">Ethiopia</option>
                        <option value="Ghana">Ghana</option>
                        <option value="India">India</option>
                        <option value="Kenya">Kenya</option>
                        <option value="Nepal">Nepal</option>
                        <option value="Nigeria">Nigeria</option>
                        <option value="Pakistan">Pakistan</option>
                        <option value="Philippines">Philippines</option>
                        <option value="Rwanda">Rwanda</option>
                        <option value="Senegal">Senegal</option>
                        <option value="Tanzania">Tanzania</option>
                        <option value="Uganda">Uganda</option>
                    </select>
                </div>

                <div class="policy-content">
                    <div class="controls-panel">
                        <h3 style="margin-bottom: 20px; color: #4facfe;">Adjust Policy Variables</h3>

                        <div class="control-group">
                            <div class="control-label">
                                <span class="control-icon">üìö</span>
                                <span>Primary School Enrollment, Female (% gross)</span>
                            </div>
                            <div class="slider-container">
                                <input type="range" min="30" max="130" value="85" step="1" class="slider" id="school-enrollment">
                                <span class="slider-value"><span id="school-val">85</span>%</span>
                            </div>
                            <small style="color: #666; margin-top: 5px; display: block;">Higher enrollment typically correlates with economic growth</small>
                        </div>

                        <div class="control-group">
                            <div class="control-label">
                                <span class="control-icon">‚öïÔ∏è</span>
                                <span>Communicable Diseases Death Rate (%)</span>
                            </div>
                            <div class="slider-container">
                                <input type="range" min="10" max="80" value="45" step="1" class="slider" id="disease-rate">
                                <span class="slider-value"><span id="disease-val">45</span>%</span>
                            </div>
                            <small style="color: #666; margin-top: 5px; display: block;">Lower rates indicate better health systems</small>
                        </div>

                        <div class="control-group">
                            <div class="control-label">
                                <span class="control-icon">ü§ï</span>
                                <span>Death by Injury, Female Ages 15-59 (%)</span>
                            </div>
                            <div class="slider-container">
                                <input type="range" min="1" max="20" value="8" step="0.5" class="slider" id="injury-rate">
                                <span class="slider-value"><span id="injury-val">8</span>%</span>
                            </div>
                            <small style="color: #666; margin-top: 5px; display: block;">Safety indicator for women</small>
                        </div>

                        <div class="control-group">
                            <div class="control-label">
                                <span class="control-icon">üë∂</span>
                                <span>Fertility Rate (births per woman)</span>
                            </div>
                            <div class="slider-container">
                                <input type="range" min="1" max="7" value="3.5" step="0.1" class="slider" id="fertility-rate">
                                <span class="slider-value"><span id="fertility-val">3.5</span></span>
                            </div>
                            <small style="color: #666; margin-top: 5px; display: block;">Lower rates often associated with development</small>
                        </div>

                        <div class="control-group">
                            <div class="control-label">
                                <span class="control-icon">‚öñÔ∏è</span>
                                <span>Female Obesity Prevalence (%)</span>
                            </div>
                            <div class="slider-container">
                                <input type="range" min="1" max="40" value="12" step="0.5" class="slider" id="obesity-rate">
                                <span class="slider-value"><span id="obesity-val">12</span>%</span>
                            </div>
                            <small style="color: #666; margin-top: 5px; display: block;">Nutrition and lifestyle indicator</small>
                        </div>

                        <div class="control-group">
                            <div class="control-label">
                                <span class="control-icon">üìñ</span>
                                <span>Youth Literacy Gender Parity Index</span>
                            </div>
                            <div class="slider-container">
                                <input type="range" min="0.5" max="1.2" value="0.95" step="0.01" class="slider" id="literacy-parity">
                                <span class="slider-value"><span id="literacy-val">0.95</span></span>
                            </div>
                            <small style="color: #666; margin-top: 5px; display: block;">1.0 = perfect gender equality in literacy</small>
                        </div>

                        <button class="btn" onclick="resetValues()" style="margin-top: 20px; width: 100%;">
                            Reset to Default Values
                        </button>
                    </div>

                    <div class="results-panel">
                        <h3 style="margin-bottom: 20px; color: #4facfe;">Projected Impact</h3>

                        <div class="result-card">
                            <div class="result-label">Projected GDP Per Capita Growth</div>
                            <div class="result-value" id="gdp-projection">+2.5%</div>
                            <span class="impact-indicator impact-positive" id="impact-label">Positive Impact</span>
                        </div>

                        <div class="result-card">
                            <div class="result-label">Model Confidence</div>
                            <div class="result-value" style="font-size: 1.5em;" id="confidence">75%</div>
                            <small style="color: #666; display: block; margin-top: 10px;">
                                Based on Random Forest model (R¬≤ = 0.750)
                            </small>
                        </div>

                        <div class="result-card">
                            <h4 style="margin-bottom: 15px; color: #333;">Policy Recommendations</h4>
                            <div id="recommendations" style="line-height: 1.8;">
                                <p style="color: #666;">Adjust the variables to see specific policy recommendations based on your projections.</p>
                            </div>
                        </div>

                        <div class="result-card">
                            <h4 style="margin-bottom: 15px; color: #333;">Variable Impact Summary</h4>
                            <div id="impact-summary" style="font-size: 0.9em; color: #666;">
                                <!-- Will be filled dynamically -->
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>

        <div class="footer">
            <p>üéì Gender and Economic Development Analysis System</p>
            <p>Generated with advanced machine learning and statistical techniques</p>
        </div>
    </div>

    <script>
        // Tab switching
        function switchTab(index) {
            // Update tab buttons
            document.querySelectorAll('.tab').forEach((tab, i) => {
                tab.classList.toggle('active', i === index);
            });

            // Update tab content
            document.querySelectorAll('.tab-content').forEach((content, i) => {
                content.classList.toggle('active', i === index);
            });
        }

        // Policy projection model coefficients (based on correlation analysis)
        const modelCoefficients = {
            schoolEnrollment: -0.489,
            diseaseRate: 0.469,
            injuryRate: -0.459,
            fertilityRate: -0.417,
            obesityRate: 0.409,
            literacyParity: -0.383
        };

        // Default values
        const defaultValues = {
            schoolEnrollment: 85,
            diseaseRate: 45,
            injuryRate: 8,
            fertilityRate: 3.5,
            obesityRate: 12,
            literacyParity: 0.95
        };

        // Update slider values display
        document.getElementById('school-enrollment').addEventListener('input', function() {
            document.getElementById('school-val').textContent = this.value;
            calculateProjection();
        });

        document.getElementById('disease-rate').addEventListener('input', function() {
            document.getElementById('disease-val').textContent = this.value;
            calculateProjection();
        });

        document.getElementById('injury-rate').addEventListener('input', function() {
            document.getElementById('injury-val').textContent = this.value;
            calculateProjection();
        });

        document.getElementById('fertility-rate').addEventListener('input', function() {
            document.getElementById('fertility-val').textContent = this.value;
            calculateProjection();
        });

        document.getElementById('obesity-rate').addEventListener('input', function() {
            document.getElementById('obesity-val').textContent = this.value;
            calculateProjection();
        });

        document.getElementById('literacy-parity').addEventListener('input', function() {
            document.getElementById('literacy-val').textContent = this.value;
            calculateProjection();
        });

        function calculateProjection() {
            const values = {
                schoolEnrollment: parseFloat(document.getElementById('school-enrollment').value),
                diseaseRate: parseFloat(document.getElementById('disease-rate').value),
                injuryRate: parseFloat(document.getElementById('injury-rate').value),
                fertilityRate: parseFloat(document.getElementById('fertility-rate').value),
                obesityRate: parseFloat(document.getElementById('obesity-rate').value),
                literacyParity: parseFloat(document.getElementById('literacy-parity').value)
            };

            // Normalize values (0-100 scale)
            const normalizedSchool = (values.schoolEnrollment - 30) / 100;
            const normalizedDisease = (values.diseaseRate - 10) / 70;
            const normalizedInjury = (values.injuryRate - 1) / 19;
            const normalizedFertility = (values.fertilityRate - 1) / 6;
            const normalizedObesity = (values.obesityRate - 1) / 39;
            const normalizedLiteracy = (values.literacyParity - 0.5) / 0.7;

            // Calculate weighted impact
            let gdpImpact = 0;
            gdpImpact += normalizedSchool * modelCoefficients.schoolEnrollment * 20;
            gdpImpact += normalizedDisease * modelCoefficients.diseaseRate * 20;
            gdpImpact += normalizedInjury * modelCoefficients.injuryRate * 20;
            gdpImpact += normalizedFertility * modelCoefficients.fertilityRate * 20;
            gdpImpact += normalizedObesity * modelCoefficients.obesityRate * 20;
            gdpImpact += normalizedLiteracy * modelCoefficients.literacyParity * 20;

            // Display results
            const gdpProjection = gdpImpact.toFixed(2);
            document.getElementById('gdp-projection').textContent = (gdpImpact >= 0 ? '+' : '') + gdpProjection + '%';

            // Update impact indicator
            const impactLabel = document.getElementById('impact-label');
            if (gdpImpact > 1) {
                impactLabel.className = 'impact-indicator impact-positive';
                impactLabel.textContent = 'Positive Impact';
            } else if (gdpImpact < -1) {
                impactLabel.className = 'impact-indicator impact-negative';
                impactLabel.textContent = 'Negative Impact';
            } else {
                impactLabel.className = 'impact-indicator impact-neutral';
                impactLabel.textContent = 'Neutral Impact';
            }

            // Generate recommendations
            generateRecommendations(values, gdpImpact);

            // Generate impact summary
            generateImpactSummary(values);
        }

        function generateRecommendations(values, gdpImpact) {
            const recommendations = [];

            if (values.schoolEnrollment < 90) {
                recommendations.push('üìö <strong>Increase female primary school enrollment:</strong> Expand access to education through infrastructure investment and reducing barriers to entry.');
            }

            if (values.diseaseRate > 35) {
                recommendations.push('‚öïÔ∏è <strong>Improve healthcare systems:</strong> Invest in disease prevention and treatment programs, particularly for communicable diseases.');
            }

            if (values.injuryRate > 10) {
                recommendations.push('ü§ï <strong>Enhance safety measures:</strong> Implement programs to reduce injury-related deaths among women, including workplace and road safety.');
            }

            if (values.fertilityRate > 4) {
                recommendations.push('üë∂ <strong>Expand family planning services:</strong> Provide access to reproductive health services and education.');
            }

            if (values.obesityRate < 8 || values.obesityRate > 25) {
                recommendations.push('‚öñÔ∏è <strong>Improve nutrition programs:</strong> Address malnutrition or obesity through targeted health interventions.');
            }

            if (values.literacyParity < 0.9) {
                recommendations.push('üìñ <strong>Bridge gender literacy gap:</strong> Implement targeted literacy programs for young women to achieve gender parity.');
            }

            if (recommendations.length === 0) {
                recommendations.push('‚úÖ <strong>Maintain current policies:</strong> Your current indicators suggest strong development trajectory. Continue monitoring and maintaining these levels.');
            }

            document.getElementById('recommendations').innerHTML = recommendations.map(r =>
                `<p style="margin-bottom: 12px; padding-left: 10px; border-left: 3px solid #4facfe;">${r}</p>`
            ).join('');
        }

        function generateImpactSummary(values) {
            const impacts = [];

            const schoolDiff = values.schoolEnrollment - defaultValues.schoolEnrollment;
            if (Math.abs(schoolDiff) > 5) {
                impacts.push(`School Enrollment: ${schoolDiff > 0 ? '‚ñ≤' : '‚ñº'} ${Math.abs(schoolDiff).toFixed(1)}%`);
            }

            const diseaseDiff = values.diseaseRate - defaultValues.diseaseRate;
            if (Math.abs(diseaseDiff) > 5) {
                impacts.push(`Disease Rate: ${diseaseDiff > 0 ? '‚ñ≤' : '‚ñº'} ${Math.abs(diseaseDiff).toFixed(1)}%`);
            }

            const fertilityDiff = values.fertilityRate - defaultValues.fertilityRate;
            if (Math.abs(fertilityDiff) > 0.3) {
                impacts.push(`Fertility Rate: ${fertilityDiff > 0 ? '‚ñ≤' : '‚ñº'} ${Math.abs(fertilityDiff).toFixed(1)} births/woman`);
            }

            if (impacts.length === 0) {
                document.getElementById('impact-summary').innerHTML = '<p>No significant changes from baseline values.</p>';
            } else {
                document.getElementById('impact-summary').innerHTML = impacts.map(i =>
                    `<p style="margin-bottom: 8px;">‚Ä¢ ${i}</p>`
                ).join('');
            }
        }

        function resetValues() {
            document.getElementById('school-enrollment').value = defaultValues.schoolEnrollment;
            document.getElementById('school-val').textContent = defaultValues.schoolEnrollment;

            document.getElementById('disease-rate').value = defaultValues.diseaseRate;
            document.getElementById('disease-val').textContent = defaultValues.diseaseRate;

            document.getElementById('injury-rate').value = defaultValues.injuryRate;
            document.getElementById('injury-val').textContent = defaultValues.injuryRate;

            document.getElementById('fertility-rate').value = defaultValues.fertilityRate;
            document.getElementById('fertility-val').textContent = defaultValues.fertilityRate;

            document.getElementById('obesity-rate').value = defaultValues.obesityRate;
            document.getElementById('obesity-val').textContent = defaultValues.obesityRate;

            document.getElementById('literacy-parity').value = defaultValues.literacyParity;
            document.getElementById('literacy-val').textContent = defaultValues.literacyParity;

            calculateProjection();
        }

        function loadCountryData() {
            const country = document.getElementById('country-select').value;

            // Sample country data (you would load this from your actual dataset)
            const countryData = {
                'India': { school: 112, disease: 38, injury: 6.5, fertility: 2.2, obesity: 5.8, literacy: 0.98 },
                'Nigeria': { school: 82, disease: 68, injury: 12, fertility: 5.4, obesity: 9.2, literacy: 0.87 },
                'Bangladesh': { school: 108, disease: 42, injury: 7.8, fertility: 2.1, obesity: 4.2, literacy: 1.02 },
                'Ethiopia': { school: 95, disease: 55, injury: 9.2, fertility: 4.3, obesity: 6.5, literacy: 0.89 },
                'Kenya': { school: 104, disease: 48, injury: 8.5, fertility: 3.5, obesity: 8.8, literacy: 0.96 }
            };

            if (country && countryData[country]) {
                const data = countryData[country];
                document.getElementById('school-enrollment').value = data.school;
                document.getElementById('school-val').textContent = data.school;

                document.getElementById('disease-rate').value = data.disease;
                document.getElementById('disease-val').textContent = data.disease;

                document.getElementById('injury-rate').value = data.injury;
                document.getElementById('injury-val').textContent = data.injury;

                document.getElementById('fertility-rate').value = data.fertility;
                document.getElementById('fertility-val').textContent = data.fertility;

                document.getElementById('obesity-rate').value = data.obesity;
                document.getElementById('obesity-val').textContent = data.obesity;

                document.getElementById('literacy-parity').value = data.literacy;
                document.getElementById('literacy-val').textContent = data.literacy;

                calculateProjection();
            } else {
                resetValues();
            }
        }

        // Initialize on load
        calculateProjection();
    </script>
</body>
</html>
